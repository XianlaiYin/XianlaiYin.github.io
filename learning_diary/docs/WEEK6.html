<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Learning Diary - WEEK 6</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./WEEK7.html" rel="next">
<link href="./WEEK5.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><strong>WEEK 6</strong></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Learning Diary</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/XianlaiYin/XianlaiYin.github.io" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><strong>Introduction</strong></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK1.html" class="sidebar-item-text sidebar-link"><strong>WEEK 1</strong></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK2.html" class="sidebar-item-text sidebar-link"><strong>WEEK 2</strong></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK3.html" class="sidebar-item-text sidebar-link"><strong>WEEK 3</strong></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK4.html" class="sidebar-item-text sidebar-link"><strong>WEEK 4</strong></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK5.html" class="sidebar-item-text sidebar-link"><strong>WEEK 5</strong></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK6.html" class="sidebar-item-text sidebar-link active"><strong>WEEK 6</strong></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK7.html" class="sidebar-item-text sidebar-link"><strong>WEEK 7</strong></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK8.html" class="sidebar-item-text sidebar-link"><strong>WEEK 8</strong></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link"><strong>References</strong></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary-lecture" id="toc-summary-lecture" class="nav-link active" data-scroll-target="#summary-lecture"><strong>1 Summary: lecture</strong></a>
  <ul class="collapse">
  <li><a href="#how-classified-data-is-used" id="toc-how-classified-data-is-used" class="nav-link" data-scroll-target="#how-classified-data-is-used"><strong>1.1 How classified data is used</strong></a></li>
  <li><a href="#introduction-of-machine-learning" id="toc-introduction-of-machine-learning" class="nav-link" data-scroll-target="#introduction-of-machine-learning"><strong>1.2 Introduction of machine learning</strong></a></li>
  <li><a href="#classification-and-regression-trees-cart" id="toc-classification-and-regression-trees-cart" class="nav-link" data-scroll-target="#classification-and-regression-trees-cart"><strong>1.3 Classification and regression trees (CART)</strong></a></li>
  <li><a href="#image-classification" id="toc-image-classification" class="nav-link" data-scroll-target="#image-classification"><strong>1.4 Image classification</strong></a></li>
  </ul></li>
  <li><a href="#summary-practical" id="toc-summary-practical" class="nav-link" data-scroll-target="#summary-practical"><strong>2 Summary: practical</strong></a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/XianlaiYin/XianlaiYin.github.io/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><strong>WEEK 6</strong></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="classification" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="classification"><strong><em>Classification</em></strong></h4>
<blockquote class="blockquote">
<p>This is a learning diary of CASA0023 WEEK 6, the lecture presentation is <a href="https://andrewmaclachlan.github.io/CASA0023-lecture-6/#1">here</a>, and the practical material is <a href="https://andrewmaclachlan.github.io/CASA0023/6_classification_I.html">here</a>.</p>
</blockquote>
</section>
<section id="summary-lecture" class="level2">
<h2 class="anchored" data-anchor-id="summary-lecture"><strong>1 Summary: lecture</strong></h2>
<p>This week, after understanding the basic concepts of machine learning, classification and regression trees (CART) including regression trees, overfitting, random forests were studied. After that, extend it to the field of image classification and learn about unsupervised classification including DBSCAN, ISODATA and supervised classification including maximum likelihood, support vector machine (SVM).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/WEEK6_Mindmap.svg" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Mindmap of Week 6 Leacture</figcaption><p></p>
</figure>
</div>
<hr>
<section id="how-classified-data-is-used" class="level3">
<h3 class="anchored" data-anchor-id="how-classified-data-is-used"><strong>1.1 How classified data is used</strong></h3>
<p>In some form all these studies extracted Land Cover from EO data</p>
<ul>
<li>Urban expansion</li>
<li>Air pollution and LULC</li>
<li>Urban green spaces</li>
<li>Monitoring forests + illegal logging</li>
<li>Forest fires</li>
</ul>
</section>
<section id="introduction-of-machine-learning" class="level3">
<h3 class="anchored" data-anchor-id="introduction-of-machine-learning"><strong>1.2 Introduction of machine learning</strong></h3>
<section id="expert-systems" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="expert-systems"><strong>Expert Systems</strong></h4>
<p>A system that uses human knowledge to solve problems that normally require human intelligence</p>
<ul>
<li><code>Knowledge Base</code> = Rules of thumb, not always correct</li>
<li><code>Inference Engine</code> = Process of reaching a conclusion and the expert system is implemented</li>
<li>You might try and represent your knowledge through a series of decisions = knowledge representation through a decision tree</li>
</ul>
</section>
<section id="machine-learning" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="machine-learning"><strong>Machine learning</strong></h4>
<ul>
<li><code>Machine learning</code> = science of computer modeling of learning process</li>
<li>When humans have some generalizations we can reach a logical assumption or conclusion = <code>inductive learning</code></li>
<li><strong>Machine learning is a search through all the data to explain the input data and can be used on new input data</strong></li>
</ul>
</section>
<section id="is-linear-regression-machine-learning" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="is-linear-regression-machine-learning"><strong>Is linear regression machine learning?</strong></h4>
<ul>
<li><code>Yes</code>, the model finds the best fit between independent and dependent variables</li>
<li>You are fitting a model to some data which could be used for prediction</li>
</ul>
</section>
</section>
<section id="classification-and-regression-trees-cart" class="level3">
<h3 class="anchored" data-anchor-id="classification-and-regression-trees-cart"><strong>1.3 Classification and regression trees (CART)</strong></h3>
<section id="composition" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="composition"><strong>Composition</strong></h4>
<ul>
<li><code>Classification trees</code>: classify data into two or more discrete (can only have certain values) categories</li>
<li><code>Regression trees</code>: predict continuous dependent variable, subset the data into smaller chunks</li>
</ul>
</section>
<section id="gini-impurity" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="gini-impurity"><strong>Gini Impurity</strong></h4>
<p>When we create a decision tree the final leaves might be a mixture of the categories = <code>impure</code>, quantify this with the Gini Impurity</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Calculation
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>1-(probability of yes)^2-(the probability of no)^2</li>
<li>Weighted based on numbers</li>
</ul>
</div>
</div>
<ul>
<li>The one with the lowest impurity goes at the top of the tree to start the decision making…<code>the root</code></li>
<li>We then use the Gini impurity at each <code>branch</code> to split the nodes further</li>
<li>Once we don’t need to split these turn into <code>leaves</code> and the output has <code>the most votes</code></li>
</ul>
</section>
<section id="regression-trees" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="regression-trees"><strong>Regression trees</strong></h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/REGRESSIONTREE.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">How do Regression Trees Work?. Source:<a href="https://medium.datadriveninvestor.com/how-do-regression-trees-work-94999c5105d">Luka Beverin</a></figcaption><p></p>
</figure>
</div>
<p><strong><em>Difference</em></strong></p>
<ul>
<li>Take and predict continuous values (e.g.&nbsp;amount of pollution)</li>
<li>Classification trees take and predict discrete values (e.g.&nbsp;landcover)</li>
<li>Each leaf is a numeric value not category like in classification trees</li>
</ul>
<p><strong><em>How do we decide where to make the breaks in the data?</em></strong></p>
<p><code>residuals</code> (like linear regression) for each threshold (which is a value on the x axis)</p>
<ul>
<li>We divide this up into sections based on thresholds (nodes) and calculate the sum of the squared residuals</li>
<li>We can then check the SSR for different thresholds, <strong>the one with the lowest SSR is the root of the tree to start with</strong>, then repeat</li>
<li>To prevent over fitting we can set <strong>a minimum number of observations before splitting the data again</strong></li>
</ul>
<p>We can do this with many predictor variables, we try different thresholds and calculate the sum of squared residuals (SSR) - e.g.&nbsp;age or gender</p>
</section>
<section id="overfitting" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="overfitting"><strong>Overfitting</strong></h4>
<p><strong><em>What if we have a leaf with just one person or one pixel value? = overfitting</em></strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/bias.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">What is overfitting?.Source:<a href="https://towardsdatascience.com/understanding-the-bias-variance-tradeoff-165e6942b229">Seema Singh</a></figcaption><p></p>
</figure>
</div>
<ul>
<li><code>Bias</code> = difference between predicted value and true value = oversimplifies model</li>
<li><code>Variance</code> = variability of model for a given point = does not genearlise well</li>
</ul>
<p><strong><em>How to limit overfitting?</em></strong></p>
<ul>
<li>Limit how trees grow (e.g.&nbsp;a minimum number of pixels in a leaf, 20 is often used)</li>
<li>Weakest link pruning (with tree score)
<ul>
<li>Use one less leaf, remove a leaf = <code>sub-tree</code>, SSR will get larger = <code>termed PRUNING</code> or <code>cost complexity pruning</code></li>
<li><strong>Tree score = SSR + tree penalty (alpha) * T (number of leaves)</strong></li>
<li>Changing <a href="https://youtu.be/D0efHEJsfHo?t=684">Alpha</a> (Different values of alpha give us give different sub trees and tree scores)
<ul>
<li>Use a full size regression tree (with <code>all data</code>)</li>
<li>Start with a value of 0 (this will give lowest value of tree score)</li>
<li>Then increase until <code>pruning</code> (removing a leaf) gives lower <code>tree score</code></li>
<li>Save those alpha values</li>
</ul></li>
<li>Go back to all the data
<ul>
<li>Divide the data into training (70%) and testing data (30%)</li>
<li>Take <strong>training data and use alpha values from before</strong></li>
<li>Each alpha will be made into a new tree with this new data</li>
</ul></li>
<li>Take each tree
<ul>
<li>Place the <strong>testing data within the divisions</strong> based on the different trees</li>
<li>Calculate the SSR with the test data (testing data bold, train light)</li>
<li>Which tree has the <code>smallest SSR</code></li>
</ul></li>
<li>Repeat previous slide with different training and testing data (10 times cross validation), on average from the 10 tests the value of alpha that gives lowest SSR from testing data is the final value, select the tree from that used the full data with that alpha!</li>
</ul></li>
</ul>
</section>
<section id="random-forests" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="random-forests"><strong>Random Forests</strong></h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/science_direct_random_forest.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Random Forest and overview. Source: <a href="https://www.sciencedirect.com/topics/engineering/random-forest">Science Direct</a></figcaption><p></p>
</figure>
</div>
<ul>
<li>Grow many classification decision trees - <code>Many better than one</code>
<ul>
<li>Take our data and take bootstrap samples (same data can be picked many times)</li>
<li>Make decision tree from random number of variables (never all of them)</li>
<li>Next at the node take a random subset of variables again = <code>RANDOM</code></li>
<li>Repeat</li>
</ul></li>
<li>We get many, many different trees = a <code>forest</code></li>
<li>Run the data we have down the trees</li>
<li>Which option gets more votes based on all the tree</li>
<li>Bootstrapping (<a href="https://andrewmaclachlan.github.io/CASA0005repo_20202021/gwr-and-spatially-lagged-regression.html">re-sampling by replacement data</a> to make a decision = <code>bagging</code>)
<ul>
<li>For each tree about 70% of the training data is used in the bootstrap, 30% is <strong>left out of the bag (OOB)</strong></li>
<li>Test the OOB data in the forest where all the trees didn’t use it and repeat for all OOB samples, most votes wins!</li>
<li><strong>Out of Bag Error</strong>: proportion of OOB incorrectly classified = OOB error</li>
<li>Often the number of variables per tree is calculated from square root of variables in the original data.</li>
</ul></li>
<li>No pruning: trees can do down to largest extent</li>
</ul>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Terms
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>Validation data</code>: different from OOB and never included within the decision trees</p>
</div>
</div>
</section>
</section>
<section id="image-classification" class="level3">
<h3 class="anchored" data-anchor-id="image-classification"><strong>1.4 Image classification</strong></h3>
<p>Turn every pixel in the image into one of a pre-defined categorical classification, either supervised or unsupervised classification procedure, <strong>there are generic machine learning algorithms and remote sensing specific ones</strong></p>
<section id="characteristic" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="characteristic"><strong>Characteristic</strong></h4>
<p><strong><em>Supervised</em></strong></p>
<ul>
<li><code>Pattern recognition</code> or <code>machine learning</code></li>
<li>Classifier learns patterns in the data</li>
<li>Uses that to place labels onto new data</li>
<li><code>Pattern vector</code> is used to classify the image</li>
</ul>
<p><strong><em>Unsupervised</em></strong></p>
<ul>
<li>Identify of land cover classes aren’t know a <code>priori</code> (before)</li>
<li>Tell them computer to cluster based on info it has (e.g.&nbsp;<code>bands</code>)</li>
<li>Label the clusters</li>
</ul>
</section>
<section id="unsupervised-classification-clustering-k-means" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="unsupervised-classification-clustering-k-means"><strong>Unsupervised classification (Clustering / K-means)</strong></h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/cluster_means.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Unsupervised Classification. Source: <a href="https://www.researchgate.net/figure/Encoding-strategy-for-the-EAs-based-remote-sensing-image-clustering-approaches_fig2_320378302">Yuting Wan</a></figcaption><p></p>
</figure>
</div>
<p><strong><em>DBSCAN</em></strong></p>
<p>radius(Epsilon) and min points(for the cluster): place points randomly or uniformly across spectral feature space or across the first PCA</p>
<ul>
<li>Set the radius in spectral feature space at which new cluster to new started</li>
<li>Spectral distance to merge (within they are the same)</li>
<li>Number of pixels to be considered before merging</li>
<li>Max number of clusters</li>
<li>Clusters migrate over time</li>
<li>Repeat until N iterations or no allocations of pixels left</li>
</ul>
<p><strong><em>ISODATA</em></strong></p>
<p>Same as k-means but adds:</p>
<ul>
<li>Any clusters have so few pixels = <code>meaningless</code></li>
<li>Clusters are so close they can be merged</li>
<li>Clusters can be split - elongated clusters in feature space</li>
</ul>
<p>Typically inputs can include:</p>
<ul>
<li>Max clusters</li>
<li>Max % pixels of class values that can be unchanged - stops</li>
<li>Max times of iterations</li>
<li>Min pixels per cluster</li>
<li>Max standard deviation - then split the cluster</li>
<li>Min distance between clusters</li>
</ul>
<p><code>Cluster busting</code>: ISODATA can create lots of clusters and it’s difficult to assign meaning (e.g.&nbsp;landcover)</p>
<ul>
<li>Two types of landcover in the pixel</li>
<li>Distribution of mean vectors not good enough to differentiate them</li>
<li>Let’s bust those clusters!
<ul>
<li>Take the incorrect or difficult to label ones</li>
<li>Mask them</li>
<li>Perform a separate classification</li>
<li>Repeat</li>
</ul></li>
</ul>
</section>
<section id="supervised-classification" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="supervised-classification"><strong>Supervised classification</strong></h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/max_margin.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Supervised Classification. Source: <a href="https://medium.com/@skilltohire/support-vector-machines-4d28a427ebd">skilltohire</a></figcaption><p></p>
</figure>
</div>
<p><strong><em>Methods</em></strong></p>
<ul>
<li><code>Parametric</code> (normal distribution): Maximum likelihood</li>
<li><code>Non-parametric</code> (Non-parametric): Density slicing, Parallelpiped, Minimum distance to mean, Nearest neighbor, Neural networks, Machine learning / expert systems</li>
<li>More recent work uses <code>machine learning</code> / <code>expert systems</code>(e.g.&nbsp;Support Vector Machine, Neural Networks ) or <code>spectral mixture analysis</code></li>
</ul>
<p><strong><em>Same process for all</em></strong></p>
<ul>
<li>Class definition</li>
<li>Pre-processing</li>
<li>Training</li>
<li>Pixel assignment</li>
<li>Accuracy assessment</li>
</ul>
<p>An approach to select a classifier…in most cases training samples will overlap…unless you select <code>spectrally pure endmembers</code> or use a <code>spectral library</code></p>
<p><strong><em>Maximum likelihood</em></strong></p>
<ul>
<li>Basics
<ul>
<li>Decision rule classifier</li>
<li>Uses probability</li>
<li>Takes the image and assigns pixel to the most probable land cover type</li>
<li>You can set a probability threshold which means if a pixel is below it = no classification</li>
</ul></li>
<li>Specifics
<ul>
<li>From histogram to probability density function: mean and standard deviation of training data</li>
<li>In imagery this is n dimensional multivariate normal density function</li>
<li>Each pixel from image data is passed to the maximum likelihood rule &gt; assigns landover to the largest product</li>
<li><strong>The key is it is based on probability…the data (landcover) most probably to have the values in our pixel</strong></li>
</ul></li>
</ul>
<p>Maximum Likelihood allows classification with <code>prior pobablity information</code> (e.g.&nbsp;60% expected to be urban, usually we don’t have this though)</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Terms
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>Pattern vector</code>: all the band values per pixel (could include texture etc)</li>
</ul>
</div>
</div>
<p><strong><em>Support Vector Machine (SVM)</em></strong></p>
<p>Simply a linear binary classifier - like <code>logistic regression</code></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Terms
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Maximum margin between two classes of training data = <code>maximum margin classifier</code></li>
<li>Points on the boundaries (and within) are <code>support vectors</code></li>
<li>Middle margin is called the <code>separating hyperplane</code></li>
<li><code>Soft margin</code> = allow some misclassificaitons to occur</li>
</ul>
</div>
</div>
<ul>
<li>We use cross validation to know how many misclassifications to allow</li>
<li>Aim is to get best classification, whilst allowing some wrongly classified points</li>
<li>More than 2 datasets we go into 3D and use a <code>plane</code> not a <code>line</code></li>
<li>Can decide how we seperate data, <a href="https://www.baeldung.com/cs/svm-multiclass-classification#:~:text=Multiclass%20Classification%20Using%20SVM&amp;text=The%20idea%20is%20to%20map,into%20multiple%20binary%20classification%20problems.">One-to-One or One-to-Rest</a></li>
<li>Underlying theory is <code>structural risk minimisation</code>: minimise error on unseen data with no assumptions on the distribution</li>
<li>Selectable
<ul>
<li>Type of kernel</li>
<li>Hyperparameters like C and Gamma (or Sigma) control SVM wiggle
<ul>
<li><code>C</code> controls training data and decision boundary maximisation plus margin errors. The bigger = narrower margin.</li>
<li><code>Gamma</code> (or Sigma) = controls the distance of influence of a training point. low = big radius for classified points, high = low radius for classified points (only once we have transformed our data can we apply gamma)</li>
</ul></li>
<li>If they aren’t linearly separable we can transform the data with the <code>kernel trick</code> (apply some function to make them linearly separable)</li>
<li>How do we select the best values of C and gamma: we test them all (or all the ones you want to) using grid search and compare them to our testing data…the ones that give the best accuracy are selected</li>
<li>Many models have hyperparameters that can’t be learned directly from a single data set when training the model. This means you might have to test the hyperparameters after model training / run the model several times. However, in <code>tidymodels</code>, <strong>we can train many models in a grid of possible hyperparameter values and see which ones turn out best</strong></li>
</ul></li>
<li>In SVM we want to make sure each data set is on the correct side of a hyper plane, it does so through:
<ul>
<li>Maximising the margin (the smallest residual)</li>
<li>Minimising misclassified points: <code>"soft margin"</code></li>
<li>Changing C changes the “slope” - consider more points</li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="summary-practical" class="level2">
<h2 class="anchored" data-anchor-id="summary-practical"><strong>2 Summary: practical</strong></h2>
<blockquote class="blockquote">
<p>This week’s practical will consist mainly of the following:</p>
<ul>
<li>Acquire remote sensing image data using GEE and perform basic operations such as clipping and mosaicing of data</li>
<li>Remote sensing image pre-processing and band mathing using GEE</li>
<li>Exporting GEE analysis results</li>
<li>GEE-related applications and data</li>
</ul>
</blockquote>
<p>In this week’s practical, I learnt the basic operations of remote sensing data processing using GEE. I followed the instructions to process and analyse the Landsat remote sensing image data from New Delhi, including texture measures, PCA, band math, etc. However, I was pleasantly surprised to learn about a lot of applications developed using GEE, which were very interesting and greatly broadened my view of remote sensing image applications and made me look forwards to developing applications using GEE.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/WEEK6practical.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Practical output: PCA analysis of Landsat 8 images in New Delhi.</figcaption><p></p>
</figure>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./WEEK5.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><strong>WEEK 5</strong></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./WEEK7.html" class="pagination-link">
        <span class="nav-page-text"><strong>WEEK 7</strong></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>